---
layout: page
---
<ul id="search-results" class="list-group"></ul>

<script>
    function searchJSON(data, searchTerm) {
        searchTerm = searchTerm.toLowerCase();
        return data.filter(item => {
            for (const key in item) {
                if (JSON.stringify(item[key]).toLowerCase().includes(searchTerm)) {
                    return true;
                }
            }
            return false;
        });
    }
    window.onload = function () {
        const urlParams = new URLSearchParams(window.location.search);
        const searchQuery = urlParams.get('q');
        fetch('search.json')
            .then(response => response.json())
            .then(data => {
                const searchResults = searchJSON(data, searchQuery);

                const resultsContainer = document.getElementById('search-results');
                searchResults.forEach(result => {
                    const resultElement = document.createElement('li');
                    resultElement.classList.add('list-group-item', 'list-group-item-action');
                    resultElement.innerHTML = `<a href="${result.url}"><h3>${result.title}</h3></a>`;
                    resultsContainer.appendChild(resultElement);
                });
            })
            .catch(error => {
                console.error('Error fetching search results:', error);
            });
    };
</script>